<section class="container-header">
  <div class="titulo-header">
    <h5>Bienvenido al portal</h5>
    <h4>OBRAS PUBLICAS SINALOA</h4>
  </div>
  <div class="desc-header">
    <h4>2,929,438,639.42 MXN</h4>
    <h6>MONTO TOTAL EJERCIDO</h6>
  </div>
</section>
<section class="map-container">
  <!-- sidebar -->
  <div class="map-sidebar map-sidebar-open">
    <div class="map-sidebar-header">
      <h6 class="header-title">Configuración</h6>
      <button class="btn btn-sm btn-gold-100 icon text-white" (click)="recargarInfo()">
        <i class="fas fa-rotate"></i>
      </button>
    </div>

    <div class="map-sidebar-body">
      <h6 class="header-title">Por Tipo de Obra</h6>
      <section class="tipo-obras">
        <div class="col-xs-10" *ngFor="let tipo of tiposObras">
          <p-inputSwitch
            [(ngModel)]="tipo.checked"
            [class]="'small-input-switch p-mr-2 custom-' + tipo.color"
            (onChange)="onChangeTipoObra(tipo)"
          ></p-inputSwitch>
          <label class="label-switch" for="switch1"
            ><i class="fas" [ngClass]="tipo.icon"></i> {{ tipo.descripcion }} ({{ tipo.conteo }})
          </label>
        </div>
      </section>
      <h6 class="header-title">Por Municipio</h6>
      <section>
        <div class="form-group">
          <p-dropdown
            (onChange)="filtrar()"
            appendTo="body"
            [options]="municipios"
            [(ngModel)]="municipioSeleccionado"
            placeholder="Seleccione..."
            optionLabel="nombre"
            [showClear]="false"
          ></p-dropdown>
        </div>
      </section>
      <h6 class="header-title">Por Años</h6>
      <section class="drop-years">
        <div class="form-group">
          <p-dropdown
            (onChange)="filtrar()"
            appendTo="body"
            [options]="periodos"
            [(ngModel)]="periodoSeleccionado"
            placeholder="Seleccione..."
            optionLabel="descripcion"
            [showClear]="false"
          ></p-dropdown>
        </div>
      </section>
      <h6 class="header-title">Por Estatus de Obra</h6>
      <section class="estatus-obras">
        <div class="form-group">
          <p-dropdown
            (onChange)="filtrar()"
            appendTo="body"
            [options]="estatusObras"
            [(ngModel)]="estatusObrasSeleccionado"
            placeholder="Seleccione..."
            optionLabel="descripcion"
            [showClear]="false"
          ></p-dropdown>
        </div>
      </section>
      <section>
        <div class="form-group float-right">
          <button class="btn btn-primary icon text-white" (click)="filtrar()">
            <i class="fas fa-filter"></i> Filtrar
          </button>
        </div>
      </section>
    </div>
  </div>
  <!-- end sidebar -->
  <div
    *blockUI="'map-list'"
    class="map"
    [ngClass]="{ 'map-sidebar-open': sidebarOpen, 'map-asidebar-open': asidebarOpen }"
    id="map"
  ></div>
</section>
<section class="data-container ml-5 mr-5">
  <div class="h4 data-title">DATOS ABIERTOS</div>
  <div class="datos-abiertos row">
    <div class="col-12">
      <div class="card-deck">
        <div class="card shadow" *ngFor="let card of cards">
          <img src="{{ './assets/img/' + card.imagen }}" class="card-img-top mx-auto" alt="..." />
          <div class="card-body">
            <div class="card-title cantidad h4 mb-0 text-center text-primary">{{ card.cantidad | number }}</div>
            <div class=" card-text text-center">
              <small class="descripcion">{{ card.descripcion }}</small>
            </div>
          </div>
        </div>
        <div class="card shadow">
          <img src="{{ './assets/img/icono-vermas.svg' }}" class="card-img-top mx-auto" alt="..." />
          <div class="card-body">
            <a [routerLink]="['/datos-abiertos']" tooltip="Regresar" class="text-primary" href="#">
              <div class="card-title cantidad h4 mb-0 text-center">Ver Más</div>
              <div class="card-text text-center">
                <small class="descripcion">&nbsp;</small>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
