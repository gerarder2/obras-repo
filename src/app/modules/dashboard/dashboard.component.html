<section class="container-header">
  <div class="titulo-header">
    <h5>Bienvenido al portal</h5>
    <h4>OBRAS PUBLICAS SINALOA</h4>
  </div>
  <div class="desc-header">
    <h4>2,929,438,639.42 MXN</h4>
    <h6>MONTO TOTAL EJERCIDO</h6>
  </div>
</section>
<section class="map-container">
  <!-- sidebar -->
  <div class="map-sidebar map-sidebar-open">
    <div class="map-sidebar-header">
      <h6 class="header-title">Configuración</h6>
      <button class="btn btn-sm btn-gold-100 icon text-white" (click)="recargarInfo()">
        <i class="fas fa-rotate"></i>
      </button>
    </div>

    <div class="map-sidebar-body">
      <h6 class="header-title">Por Tipo de Obra</h6>
      <section class="tipo-obras">
        <ng-container>
          <div class="col-xs-8 col-sm" *ngFor="let tipo of tiposObras">
            <ul class="icons-list">
              <li>
                <!-- <i class="icon-screen-desktop bg-primary"></i> -->
                <p-inputSwitch
                  [(ngModel)]="tipo.checked"
                  [class]="'custom-' + tipo.nombre.toLocaleLowerCase()"
                  (onChange)="onChangePartido(tipo)"
                ></p-inputSwitch>

                <div class="desc">
                  <img
                    [src]="'./assets/markers/partidos/' + tipo.nombre.toLocaleLowerCase() + '.png'"
                    width="42"
                    height="42"
                  />
                </div>
              </li>
            </ul>
          </div>
        </ng-container>
      </section>
      <h6 class="header-title">Por Municipio</h6>
      <section>
        <div class="form-group">
          <p-dropdown
            [options]="municipios"
            [(ngModel)]="municipioSeleccionado"
            placeholder="Seleccione..."
            optionLabel="nombre"
            [showClear]="false"
            (onChange)="recargarInfo($event)"
          ></p-dropdown>
        </div>
      </section>
      <h6 class="header-title">Por Años</h6>
      <section class="drop-years">
        <div class="form-group">
          <p-dropdown
            [options]="periodos"
            [(ngModel)]="periodoSeleccionado"
            placeholder="Seleccione..."
            optionLabel=""
            [showClear]="false"
            (onChange)="recargarInfo($event)"
          ></p-dropdown>
        </div>
      </section>
      <h6 class="header-title">Por Estatus de Obra</h6>
      <section class="estatus-obras">
        <div class="form-group">
          <p-dropdown
            [options]="estatusObras"
            [(ngModel)]="estatusObrasSeleccionado"
            placeholder="Seleccione..."
            optionLabel=""
            [showClear]="false"
            (onChange)="recargarInfo($event)"
          ></p-dropdown>
        </div>
      </section>
      <hr />
      <!-- obras -->
      <ng-container *ngIf="municipiosSeleccionados.length > 0 || distritosSeleccionados.length > 0">
        <app-obras
          (onBorrar)="quitarObrasLayer()"
          (onFilter)="mostrarPuntosObra($event)"
          [municipiosSelected]="municipiosSeleccionados"
          [distritosSelected]="distritosSeleccionados"
        ></app-obras>
      </ng-container>
    </div>
  </div>
  <!-- end sidebar -->
  <div
    *blockUI="'map-list'"
    class="map"
    [ngClass]="{ 'map-sidebar-open': sidebarOpen, 'map-asidebar-open': asidebarOpen }"
    id="map"
  ></div>
</section>
<section class="data-container">
  <div class="h2 data-title">Datos Abiertos</div>
  <div class="datos-abiertos row col-12">
    <div class="col-sm-3 col-md-3" *ngFor="let card of cards">
    <div class="card bg-gray-200">
      <img src="{{ './../../../assets/img/' + card.imagen }}" class="card-img-top mx-auto" alt="...">
      <div class="card-body">
        <div class="cantidad h4 mb-0 text-center">{{ card.cantidad | number }}</div>
          <div class="text-center">
            <small class="descripcion">{{ card.descripcion }}</small>
          </div>
      </div>
    </div>
    </div>
    <div class="col-sm-3 col-md-3">
      <div class="card">
        <img src="{{ './../../../assets/img/arrow_sq.png'}}" class="card-img-top mx-auto" alt="...">
        <div class="card-body">
          <div class="cantidad h4 mb-0 text-center">Ver Más</div>
          <div class="text-center">
            <small class="descripcion">&nbsp;</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
