<header class="app-header navbar">
  <button class="navbar-toggler d-lg-none" type="button" appMobileSidebarToggler *ngIf="menuExist">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="#"></a>
  <button class="navbar-toggler d-md-down-none" type="button" appSidebarToggler *ngIf="menuExist">
    <span class="navbar-toggler-icon"></span>
  </button>
  <ul class="nav navbar-nav ml-auto float-left">
    <li class="nav-item px-3" *ngFor="let link of links" [routerLinkActive]="'active'">
      <a class="nav-link" [routerLinkActive]="'active'" [routerLink]="[link.url]">{{ link.name }}</a>
    </li>
    <li></li>
  </ul>

  <!-- <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled">Disabled</a>
      </li>
    </ul>
    <form class="form-inline mt-2 mt-md-0">
      <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
    </form> -->

  <ul class="nav navbar-nav ml-auto">
    <li class="nav-item dropdown" dropdown placement="bottom right">
      <!-- <a
        class="nav-link"
        data-toggle="dropdown"
        href=""
        role="button"
        aria-haspopup="true"
        aria-expanded="false"
        dropdownToggle
        (click)="(false)"
      >
        <img src="{{ 'assets/img/avatars/user-a.png' }}" class="" height="25" alt="" onError="this.src='assets/img/avatars/user-a.png'"  />
      </a>
      <div class="dropdown-menu dropdown-menu-right" *dropdownMenu aria-labelledby="simple-dropdown">
        <div class="dropdown-header text-center"><strong>Account</strong></div>
        <a class="dropdown-item" href="" (click)="logOut(); (false)"><i class="fa fa-lock"></i> Logout</a>
      </div> -->
      <div style="margin-top: 8px" class="input-group">
        <input
          #typeaheadInput
          style="width: 275px"
          (typeaheadOnSelect)="typeaheadOnSelect($event)"
          [(ngModel)]="search"
          [typeahead]="suggestions$"
          typeaheadOptionField="objeto"
          [typeaheadAsync]="true"
          [typeaheadWaitMs]="200"
          [typeaheadMinLength]="3"
          [typeaheadScrollable]="true"
          [optionsListTemplate]="customListTemplate"
          [adaptivePosition]="true"
          placeholder="Buscar por licitacion, objeto o contrato"
          class="form-control"
          (focus)="clearInput()"
        />

        <div class="input-group-append">
          <span class="input-group-text bg-green"><i class="fas fa-search"></i></span>
        </div>
      </div>
    </li>
  </ul>
</header>



<ng-template #customListTemplate let-matches="matches" let-query="query" let-typeaheadTemplateMethods>
  <ul class="custom-list-group">
    <li
      class="custom-list-group-item"
      *ngFor="let match of matches"
      [class.active]="typeaheadTemplateMethods.isActive(match)"
      (click)="typeaheadTemplateMethods.selectMatch(match, $event)"
      (mouseenter)="typeaheadTemplateMethods.selectActive(match)"
    >
      <!-- {{ match.item.objeto }} -->
      <!-- <table class="table">
        <tbody>
          <tr >
            <td>{{ match.item.id }}</td>
            <td>{{ match.item.objeto }}</td>
            <td></td>
          </tr>
        </tbody>
      </table> -->

      <div class="result-item">
        <div class="field">
          <strong>ID:</strong> {{ match.item.id }}
        </div>
        <div class="field">
          <strong>Objeto:</strong> {{ match.item.objeto }}
        </div>
        <div class="field">
          <strong></strong>
        </div>
      </div>

    </li>
  </ul>
</ng-template>

<ng-template #optionsListTemplate let-matches="matches" let-query="query" let-typeaheadTemplateMethods>
  <table *ngFor="let result of matches">
    <tbody>
      <tr >
        <td>{{ result.item.id }}</td>
        <td>{{ result.item.objeto }}</td>
        <td></td>
      </tr>
    </tbody>
  </table>
</ng-template>
